{% extends 'admins/adminlayout.html' %}

{%block title%}
<title>Product list</title>
{% endblock %}

{% block main_content %}
<div class="container">
    <div class="row d-flex justify-context-center">
        <div class="col-md-10">
            {% for msg in messages %}
            {% if msg.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
            <div class="alert alert-success">
                {{msg}}
            </div>

            {% endif %}
            {% if msg.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
            <div class="alert alert-danger ">
                {{msg}}
            </div>

            {% endif %}
            {% endfor %}

        
    <table class="table table-bordered table-striped ">
        <tr>
            <th>Product name</th>
            <th>Price</th>
            <th>Stock Quantity</th>
            <th>Image</th>
            <th>Description</th>
            <th>Category</th>
            <th>Action</th>
        </tr>
        {% for item in products %}
        <tr>
            <td>{{item.product_name}}</td>
            <td>{{item.product_price}}</td>
            <td>{{item.stock}}</td>
            <td><img src="/{{item.prooduct_image}}" alt="{{item.product_name}}" width="100"></td>
            <td>{{item.product_description}}</td>
            <td>{{item.category.category_name}}</td>
            <td>
                <a href="/products/updateproduct/{{item.id}}" class="btn btn-primary "><i class="fa-solid fa-pen-to-square"></i></a>
                <a href="/products/deleteproduct/{{item.id}}" class="btn btn-danger" onclick="return confirm('Are you sure you wanna delete this product?')"><i class="fa-solid fa-trash"></i></a>
            </td>
    </tr>
        {% endfor %}

    </table>
 </div>
 </div>
 </div>
    
    {% endblock %}